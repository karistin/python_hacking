블록체인과 작업증명
블록체인에서 블록은 거래 참여자등의 합의에 의해 생성되고 배포된다고 업급된다.합의 알고리즘은 분산 네트워크 상에 존재하는 서로 신뢰할 수 없는 정보등에
대해 수학적으로 계산된 값을 특정 절차에 따라 상호 검증하여 신뢰 가능하도록 보장하는 알고리즘이다.블록체인의 연결구조와 합의 알고리즘이라는 메커니즘을 
통해 블록체인에 담긴 정보들의 위조나 변조가 매우 어렵다.
블록페인에서 활용되는 합의 알고리즘은 다양하게 존재했는데 대표적으로 작업증명(Proof of Work),지분증명(Proof of Stake),PBFT(Practical Byzantine Fault Tolerance),
Raft등이 있다.이 책에서는 해시와 매우 밀접한 관계를 가진 작업증명에 대해 보자

작업증명은 주어진 해시값보다 작아지도록 SHA-256에 입력되는 값을 찾아내는 것이다.작업증명에 난이도는 주어진 해시값에 따라 달라진다. 다음 문제를 보자

문제1 
SHA-256(value)<= 000c007'''3c312

위 문제 1을 만족하는 value를 찾아내는 것이 작업증명 메커니즘이다. 좀더 쉅게 말하면

"Attack at 9PM!"이라는 문장에 대한 SHA-256 해시값은 다음과 같다.
SHA-256("Attack at 9PM!")=C53AE0B1DB6F94CE4177112D386C8BDF2F1B1D949F5A19F47D473A785DC97AFC
이제 "Attack at 9PM!" 문장 뒤에 숫자 0을 더해서 SHA-256 해시값을 계산해보면 다음과 같은 값이 나온다.
SHA-256("Attack at 9PM!0")=8eb6977a5765fda7cf7de37e6be6c420841cba27b7ede2b3c371ab6c9adc41a0
여기서 문제를 제시한다.

문제2
"Attack at 9PM!"에 어떤 숫자를 추가하여 구한 SHA-256 해시값이 00(난이도에 따라 다르다.)으로 시작되도록 하는 어떤 숫자를 구하라 

문제 2를 풀기 위해서는 "Attack at 9PM!"에 0을 추가하여 SHA-256 해시값을 구하고 1을 추가하여 SHA-256해시값을 구하는 식으로 추가되는 
숫자를 1 씩 증가하면서 구한 해시값이 00으로 시작되는 숫자를 찾으면 된다.문제2의 정답은 여러개지만 가장 최초로 나타나는 값은 240이다.
SHA-256("Attack at 9PM!240")="00676d333dd739b59baa37ec1f393c294c774317afabff7bdb29e7a422468a16"

이와 같은 문제를 해시캐시(hashcash)라 한다. 문제의 답을 찾으려면 그냥 무식하게 0부터 대입해야 한다.그래서 
위의 240처럼 답을 nonce 라 한다. 즉 해시캐시 문제는 주어진 해시값과 같아지는 nonce값을 찾는것이다.

문제2를 변형하여 000으로 시작되는 해시값이라면 해시캐시의 문제의 난이도는 더욱 올라가고 구하게 되는 nonce는 6541이 된다.